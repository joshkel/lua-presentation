<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="bower_components/reveal.js/css/reveal.css">
        <link rel="stylesheet" href="bower_components/reveal.js/css/theme/black.css">
        <link rel="stylesheet" href="bower_components/highlightjs/styles/agate.css">
        <link rel="stylesheet" href="css/site.css">
        <title>Lua</title>
    </head>
    <body>
        <div class="reveal">
            <div class="slides">

                <section>
                    <img src="img/lua.gif" class="lua-logo left-image"/>
                    <h1>Lua</h1>
                    <h2>A Fun Little Language</h2>
                </section>

                <section>
                    <h2>What, exactly, is Lua?</h2>
                </section>

                <section data-background="img/1429102209_PUCRio.jpg">
                    <p class="background-caption">Created 1993 by Tecgraf of PUC-Rio</p>
                </section>

                <section data-background="img/947px-FullMoon2010.jpg">
                    <p class="background-caption">Portuguese for &ldquo;moon&rdquo;</p>
                </section>

                <section>
                    <h2>Why should I care?</h2>
                </section>

                <section>
                    <p>There's no shortage of scripting languages available...</p>
                    <iframe src="assets/wikipedia_category_scripting_languages.html" width="100%" height="500px">
                    </iframe>
                    <a href="https://en.wikipedia.org/wiki/Category:Scripting_languages">https://en.wikipedia.org/wiki/Category:Scripting_languages</a>
                </section>

                <section>
                    <p>Lua is&hellip;</p>
                    <ul>
                        <li>Fast</li>
                        <li>Small</li>
                        <li><em>Really</em> easy to embed</li>
                    </ul>
                </section>

                <section>
                    <h2>Application and Service Scripting</h2>
                </section>

                <section>
                    <p>Some applications using Lua:</p>
                    <div class="narrow logos">
                        <div><img src="img/logos/v4_LR_icon-cropped.png"/><div class="caption">Adobe Lightroom</div></div>
                        <div><img src="img/logos/PuTTY_icon-2bgpv7l.png"/><div class="caption">ExtraPuTTY</div></div>
                        <div><img src="img/logos/logo_haproxy.com.png"/><div class="caption">HAProxy</div></div>
                        <div><img src="img/logos/Lighttpd_logo.svg.png"/><div class="caption">Lighttpd</div></div>
                        <div><img src="img/logos/mediawikiwiki.png"/><div class="caption">MediaWiki</div></div>
                        <div><img src="img/logos/MySQL-workbench.png"/><div class="caption">MySQL Workbench</div></div>
                        <div><img src="img/logos/nmap-logo-256x256.png"/><div class="caption">Nmap</div></div>
                        <div><img src="img/logos/nginx.png"/><div class="caption">Nginx</div></div>
                        <div><img src="img/logos/redis-lua-medium.png"/><div class="caption">Redis</div></div>
                        <div><img src="img/logos/Vimlogo.png"/><div class="caption">Vim</div></div>
                        <div><img src="img/logos/cone_altglass.png"/><div class="caption">VLC</div></div>
                        <div><img src="img/logos/Wireshark_Icon.png"/><div class="caption">Wireshark</div></div>
                    </div>
                </section>

                <section>
                    <p>Even viruses use Lua!</p>
                    <img src="img/Flame-virus.png"/>
                    <p class="credit">Flame virus screenshot from Kaspersky Lab</p>
                </section>

                <section>
                    <p>Example: CloudFlare</p>
                    <img class="plain" src="img/cloudflare.png">
                    <p>From Nginx + C modules to OpenResty (Nginx + LuaJIT)</p>
                    <p class="credit">Further reading:
                        <a href="https://blog.cloudflare.com/pushing-nginx-to-its-limit-with-lua/">1</a>,
                        <a href="https://blog.cloudflare.com/cloudflares-new-waf-compiling-to-lua/">2</a>,
                        <a href="http://www.slideshare.net/jgrahamc/lua-the-worlds-most-infuriating-language">3</a>,
                        <a href="https://www.scalescale.com/scaling-cloudflares-massive-waf/">4</a>
                    </p>
                </section>

                <!-- http://games-macdownload.com/wp-content/uploads/2015/08/wow-subscriber-counts-drops-considerably.jpg -->
                <section data-background="img/wow-subscriber-counts-drops-considerably.jpg">
                    <div class="background-caption caption-top fragment">
                        <h2>Games</h2>
                        <dl>
                            <dt>2003</dt><dd>Most popular scripting language (GameDev.net)</dd>
                            <dt>2011</dt><dd>Front Line Award winner (<i>Game Developer</i>)</p>
                        </dl>
                    </div>
                </section>

                <section>
                    <p>Just a few of the games made using Lua&hellip;</p>
                    <div class="logos">
                        <div><img src="img/logos/Angry_Birds_promo_art.png" title="Angry Birds"/></div>
                        <div><img src="img/logos/Baldur's_Gate_box.png" title="Baldur's Gate"/></div>
                        <div><img src="img/logos/CIVILIZATION-V-FRONT-OF-BOX.png" title="Civilization V"/></div>
                        <div><img src="img/logos/Crysis_Cover.png" title="Crysis"/></div>
                        <div><img src="img/logos/GarrysMod.png" title="Garry's Mod"/></div>
                        <div><img src="img/logos/Grim_Fandango_artwork.png" title="Grim Fandango"/></div>
                        <div><img src="img/logos/Homeworld_2_box_art.png" title="Homeworld 2"/></div>
                        <div><img src="img/logos/LegoUniverse.png" title="Lego Universe"/></div>
                        <div><img src="img/logos/Payday.jpg" title="Payday"/></div>
                        <div><img src="img/logos/Saints_Row_2_Game_Cover.png" title="Saint's Row 2"/></div>
                        <div><img src="img/logos/SimCity_4_cover.png" title="SimCity 4"/></div>
                        <div><img src="img/logos/StarWarsBattlefront2_PC.png" title="Star Wars Battlefront 2"/></div>
                        <div><img src="img/logos/supcom1.jpg" title="Supreme Commander"/></div>
                        <div><img src="img/logos/The_Witcher_EU_box.png" title="The Witcher"/></div>
                        <div><img src="img/logos/Warhammer_40,000_Dawn_of_War_II.png" title="Warhammer 40,000: Dawn of War II"/></div>
                        <!--<div><img src="img/logos/world-of-warcraft-logo.png" title="World of Warcraft"/></div>-->
                    </div>
                </section>

                <section>
                    <p>Lua-powered game engines:</p>
                    <div class="logos">
                        <div><img src="img/logos/coronaicon.png"/><div class="caption">Corona SDK</div></div>
                        <div><img src="img/logos/Cocos2dx.png"/><div class="caption">Cocos 2d-x</div></div>
                        <div><img src="img/logos/CryEngine.png"/><div class="caption">CryEngine</div></div>
                        <div><img src="img/logos/Defold-logo-text-below.png"/><div class="caption">Defold</div></div>
                        <div><img src="img/logos/Love.png"/><div class="caption">LÃ–VE</div></div>
                        <div><img src="img/logos/Lumberyard.png"/><div class="caption">Lumberyard</div></div>
                        <div><img src="img/logos/Moai.png"/><div class="caption">Moai</div></div>
                        <div><img src="img/logos/te4-logo.png"/><div class="caption">T-Engine 4</div></div>
                    </div>
                    <p>See <a href="http://stackoverflow.com/q/5053134">stackoverflow.com/q/5053134</a> for more.</p>
                </section>

                <section>
                    <h2>How do I write Lua?</h2>
                </section>

                <section>
                    <img src="img/pil.jpg" title="Programming in Lua" class="plain left-image"/>
                    <p>
                        <i>Programming in Lua</i><br/>
                        <a href="http://www.lua.org/pil/">www.lua.org/pil/</a>
                    </p>
                    <p>
                        Lua 5.3 Reference Manual<br/>
                        <a href="http://www.lua.org/manual/5.3/">www.lua.org/manual/5.3/</a>
                    </p>
                    <p>
                        Lua Tutorial<br/>
                        <a href="http://lua-users.org/wiki/LuaTutorial">lua-users.org/wiki/LuaTutorial</a>
                    </p>
                </section>

                <section>
                    <section>
                        <img id="stopwatch" src="img/stopwatch.jpg" class="plain left-image fragment"/>
                        <p>
                            Learn Lua in 15 Minutes
                            <a href="http://tylerneylon.com/a/learn-lua/">tylerneylon.com/a/learn-lua/</a>
                        </p>
                    </section>

                    <section>
                        <pre><code class="lua focusable">-- Two dashes start a one-line comment.

--[[
     Adding two ['s and ]'s makes it a
     multi-line comment.
--]]

----------------------------------------------------
-- 1. Variables and flow control.
----------------------------------------------------

num = 42  -- All numbers are doubles.
-- Don't freak out, 64-bit doubles have 52 bits for
-- storing exact int values; machine precision is
-- not a problem for ints that need < 52 bits.

s = 'walternate'  -- Immutable strings like Python.
t = "double-quotes are also fine"
u = [[ Double brackets
       start and end
       multi-line strings.]]
t = nil  -- Undefines t; Lua has garbage collection.

-- Blocks are denoted with keywords like do/end:
while num < 50 do
  num = num + 1  -- No ++ or += type operators.
end

-- If clauses:
if num > 40 then
  print('over 40')
elseif s ~= 'walternate' then  -- ~= is not equals.
  -- Equality check is == like Python; ok for strs.
  io.write('not over 40\n')  -- Defaults to stdout.
else
  -- Variables are global by default.
  thisIsGlobal = 5  -- Camel case is common.

  -- How to make a variable local:
  local line = io.read()  -- Reads next stdin line.

  -- String concatenation uses the .. operator:
  print('Winter is coming, ' .. line)
end

-- Undefined variables return nil.
-- This is not an error:
foo = anUnknownVariable  -- Now foo = nil.

aBoolValue = false

-- Only nil and false are falsy; 0 and '' are true!
if not aBoolValue then print('twas false') end

-- 'or' and 'and' are short-circuited.
-- This is similar to the a?b:c operator in C/js:
ans = aBoolValue and 'yes' or 'no'  --> 'no'

karlSum = 0
for i = 1, 100 do  -- The range includes both ends.
  karlSum = karlSum + i
end

-- Use "100, 1, -1" as the range to count down:
fredSum = 0
for j = 100, 1, -1 do fredSum = fredSum + j end

-- In general, the range is begin, end[, step].

-- Another loop construct:
repeat
  print('the way of the future')
  num = num - 1
until num == 0


----------------------------------------------------
-- 2. Functions.
----------------------------------------------------

function fib(n)
  if n < 2 then return 1 end
  return fib(n - 2) + fib(n - 1)
end

-- Closures and anonymous functions are ok:
function adder(x)
  -- The returned function is created when adder is
  -- called, and remembers the value of x:
  return function (y) return x + y end
end
a1 = adder(9)
a2 = adder(36)
print(a1(16))  --> 25
print(a2(64))  --> 100

-- Returns, func calls, and assignments all work
-- with lists that may be mismatched in length.
-- Unmatched receivers are nil;
-- unmatched senders are discarded.

x, y, z = 1, 2, 3, 4
-- Now x = 1, y = 2, z = 3, and 4 is thrown away.

function bar(a, b, c)
  print(a, b, c)
  return 4, 8, 15, 16, 23, 42
end

x, y = bar('zaphod')  --> prints "zaphod  nil nil"
-- Now x = 4, y = 8, values 15..42 are discarded.

-- Functions are first-class, may be local/global.
-- These are the same:
function f(x) return x * x end
f = function (x) return x * x end

-- And so are these:
local function g(x) return math.sin(x) end
local g; g  = function (x) return math.sin(x) end
-- the 'local g' decl makes g-self-references ok.

-- Trig funcs work in radians, by the way.

-- Calls with one string param don't need parens:
print 'hello'  -- Works fine.


----------------------------------------------------
-- 3. Tables.
----------------------------------------------------

-- Tables = Lua's only compound data structure;
--          they are associative arrays.
-- Similar to php arrays or js objects, they are
-- hash-lookup dicts that can also be used as lists.

-- Using tables as dictionaries / maps:

-- Dict literals have string keys by default:
t = {key1 = 'value1', key2 = false}

-- String keys can use js-like dot notation:
print(t.key1)  -- Prints 'value1'.
t.newKey = {}  -- Adds a new key/value pair.
t.key2 = nil   -- Removes key2 from the table.

-- Literal notation for any (non-nil) value as key:
u = {['@!#'] = 'qbert', [{}] = 1729, [6.28] = 'tau'}
print(u[6.28])  -- prints "tau"

-- Key matching is basically by value for numbers
-- and strings, but by identity for tables.
a = u['@!#']  -- Now a = 'qbert'.
b = u[{}]     -- We might expect 1729, but it's nil:
-- b = nil since the lookup fails. It fails
-- because the key we used is not the same object
-- as the one used to store the original value. So
-- strings & numbers are more portable keys.

-- A one-table-param function call needs no parens:
function h(x) print(x.key1) end
h{key1 = 'Sonmi~451'}  -- Prints 'Sonmi~451'.

for key, val in pairs(u) do  -- Table iteration.
  print(key, val)
end

-- _G is a special table of all globals.
print(_G['_G'] == _G)  -- Prints 'true'.

-- Using tables as lists / arrays:

-- List literals implicitly set up int keys:
v = {'value1', 'value2', 1.21, 'gigawatts'}
for i = 1, #v do  -- #v is the size of v for lists.
  print(v[i])  -- Indices start at 1 !! SO CRAZY!
end
-- A 'list' is not a real type. v is just a table
-- with consecutive integer keys, treated as a list.

----------------------------------------------------
-- 3.1 Metatables and metamethods.
----------------------------------------------------

-- A table can have a metatable that gives the table
-- operator-overloadish behavior. Later we'll see
-- how metatables support js-prototypey behavior.

f1 = {a = 1, b = 2}  -- Represents the fraction a/b.
f2 = {a = 2, b = 3}

-- This would fail:
-- s = f1 + f2

metafraction = {}
function metafraction.__add(f1, f2)
  sum = {}
  sum.b = f1.b * f2.b
  sum.a = f1.a * f2.b + f2.a * f1.b
  return sum
end

setmetatable(f1, metafraction)
setmetatable(f2, metafraction)

s = f1 + f2  -- call __add(f1, f2) on f1's metatable

-- f1, f2 have no key for their metatable, unlike
-- prototypes in js, so you must retrieve it as in
-- getmetatable(f1). The metatable is a normal table
-- with keys that Lua knows about, like __add.

-- But the next line fails since s has no metatable:
-- t = s + s
-- Class-like patterns given below would fix this.

-- An __index on a metatable overloads dot lookups:
defaultFavs = {animal = 'gru', food = 'donuts'}
myFavs = {food = 'pizza'}
setmetatable(myFavs, {__index = defaultFavs})
eatenBy = myFavs.animal  -- works! thanks, metatable

-- Direct table lookups that fail will retry using
-- the metatable's __index value, and this recurses.

-- An __index value can also be a function(tbl, key)
-- for more customized lookups.

-- Values of __index,add, .. are called metamethods.
-- Full list. Here a is a table with the metamethod.

-- __add(a, b)                     for a + b
-- __sub(a, b)                     for a - b
-- __mul(a, b)                     for a * b
-- __div(a, b)                     for a / b
-- __mod(a, b)                     for a % b
-- __pow(a, b)                     for a ^ b
-- __unm(a)                        for -a
-- __concat(a, b)                  for a .. b
-- __len(a)                        for #a
-- __eq(a, b)                      for a == b
-- __lt(a, b)                      for a < b
-- __le(a, b)                      for a <= b
-- __index(a, b)  <fn or a table>  for a.b
-- __newindex(a, b, c)             for a.b = c
-- __call(a, ...)                  for a(...)

----------------------------------------------------
-- 3.2 Class-like tables and inheritance.
----------------------------------------------------

-- Classes aren't built in; there are different ways
-- to make them using tables and metatables.

-- Explanation for this example is below it.

Dog = {}                                   -- 1.

function Dog:new()                         -- 2.
  newObj = {sound = 'woof'}                -- 3.
  self.__index = self                      -- 4.
  return setmetatable(newObj, self)        -- 5.
end

function Dog:makeSound()                   -- 6.
  print('I say ' .. self.sound)
end

mrDog = Dog:new()                          -- 7.
mrDog:makeSound()  -- 'I say woof'         -- 8.

-- 1. Dog acts like a class; it's really a table.
-- 2. function tablename:fn(...) is the same as
--    function tablename.fn(self, ...)
--    The : just adds a first arg called self.
--    Read 7 & 8 below for how self gets its value.
-- 3. newObj will be an instance of class Dog.
-- 4. self = the class being instantiated. Often
--    self = Dog, but inheritance can change it.
--    newObj gets self's functions when we set both
--    newObj's metatable and self's __index to self.
-- 5. Reminder: setmetatable returns its first arg.
-- 6. The : works as in 2, but this time we expect
--    self to be an instance instead of a class.
-- 7. Same as Dog.new(Dog), so self = Dog in new().
-- 8. Same as mrDog.makeSound(mrDog); self = mrDog.

----------------------------------------------------

-- Inheritance example:

LoudDog = Dog:new()                           -- 1.

function LoudDog:makeSound()
  s = self.sound .. ' '                       -- 2.
  print(s .. s .. s)
end

seymour = LoudDog:new()                       -- 3.
seymour:makeSound()  -- 'woof woof woof'      -- 4.

-- 1. LoudDog gets Dog's methods and variables.
-- 2. self has a 'sound' key from new(), see 3.
-- 3. Same as LoudDog.new(LoudDog), and converted to
--    Dog.new(LoudDog) as LoudDog has no 'new' key,
--    but does have __index = Dog on its metatable.
--    Result: seymour's metatable is LoudDog, and
--    LoudDog.__index = LoudDog. So seymour.key will
--    = seymour.key, LoudDog.key, Dog.key, whichever
--    table is the first with the given key.
-- 4. The 'makeSound' key is found in LoudDog; this
--    is the same as LoudDog.makeSound(seymour).

-- If needed, a subclass's new() is like the base's:
function LoudDog:new()
  newObj = {}
  -- set up newObj
  self.__index = self
  return setmetatable(newObj, self)
end

----------------------------------------------------
-- 4. Modules.
----------------------------------------------------




-- Suppose the file mod.lua looks like this:
local M = {}

local function sayMyName()
  print('Hrunkner')
end

function M.sayHello()
  print('Why hello there')
  sayMyName()
end

return M

-- Another file can use mod.lua's functionality:
local mod = require('mod')  -- Run the file mod.lua.

-- require is the standard way to include modules.
-- require acts like:     (if not cached; see below)
local mod = (function ()
  <contents of mod.lua>
end)()
-- It's like mod.lua is a function body, so that
-- locals inside mod.lua are invisible outside it.

-- This works because mod here = M in mod.lua:
mod.sayHello()  -- Says hello to Hrunkner.

-- This is wrong; sayMyName only exists in mod.lua:
mod.sayMyName()  -- error

-- require's return values are cached so a file is
-- run at most once, even when require'd many times.

-- Suppose mod2.lua contains "print('Hi!')".
local a = require('mod2')  -- Prints Hi!
local b = require('mod2')  -- Doesn't print; a=b.

-- dofile is like require without caching:
dofile('mod2.lua')  --> Hi!
dofile('mod2.lua')  --> Hi! (runs it again)

-- loadfile loads a lua file but doesn't run it yet.
f = loadfile('mod2.lua')  -- Call f() to run it.

-- loadstring is loadfile for strings.
g = loadstring('print(343)')  -- Returns a function.
g()  -- Prints out 343; nothing printed before now.



----------------------------------------------------
-- 5. References.
----------------------------------------------------

--[[

I was excited to learn Lua so I could make games
with the LÃ¶ve 2D game engine. That's the why.

I started with BlackBulletIV's Lua for programmers.
Next I read the official Programming in Lua book.
That's the how.

It might be helpful to check out the Lua short
reference on lua-users.org.

The main topics not covered are standard libraries:
 * string library
 * table library
 * math library
 * io library
 * os library

By the way, this entire file is valid Lua; save it
as learn.lua and run it with "lua learn.lua" !

This was first written for tylerneylon.com. It's
also available as a github gist. Tutorials for other
languages, in the same style as this one, are here:

http://learnxinyminutes.com/

Have fun with Lua!

--]]</code></pre>
                        <div class="fragment current-only" data-code-focus="1-7"><!-- comments --></div>
                        <div class="fragment current-only" data-code-focus="8-15"><!-- numbers --></div>
                        <div class="fragment current-only" data-code-focus="17-22"><!-- strings --></div>
                        <div class="fragment current-only" data-code-focus="24-27"><!-- while --></div>
                        <div class="fragment current-only" data-code-focus="29-35"><!-- if/then/else --></div>
                        <div class="fragment current-only" data-code-focus="36-44"><!-- variables --></div>
                        <div class="fragment current-only" data-code-focus="46-48"><!-- undefined variables --></div>
                        <div class="fragment current-only" data-code-focus="50-57"><!-- bools --></div>
                        <div class="fragment current-only" data-code-focus="59-68"><!-- for --></div>
                        <div class="fragment current-only" data-code-focus="70-74"><!-- repeat/until --></div>
                        <div class="fragment current-only" data-code-focus="77-84"><!-- functions --></div>
                        <div class="fragment current-only" data-code-focus="86-95"><!-- closures/anonymous functions --></div>
                        <div class="fragment current-only" data-code-focus="97-111"><!-- multiple assignments and return values --></div>
                        <div class="fragment current-only" data-code-focus="113-126"><!-- more on functions --></div>
                        <div class="fragment current-only" data-code-focus="129-136"><!-- table --></div>
                        <div class="fragment current-only" data-code-focus="138-146"><!-- table manipulation --></div>
                        <div class="fragment current-only" data-code-focus="148-159"><!-- anything can be a key --></div>
                        <div class="fragment current-only" data-code-focus="161-163"><!-- function call shortcut --></div>
                        <div class="fragment current-only" data-code-focus="165-167"><!-- table pairs --></div>
                        <div class="fragment current-only" data-code-focus="169-170"><!-- globals --></div>
                        <div class="fragment current-only" data-code-focus="172-180"><!-- arrays --></div>
                        <div class="fragment current-only" data-code-focus="182-188"><!-- metatables --></div>
                        <div class="fragment current-only" data-code-focus="190-194"><!-- metatables --></div>
                        <div class="fragment current-only" data-code-focus="196-202"><!-- metatables --></div>
                        <div class="fragment current-only" data-code-focus="204-216"><!-- metatables --></div>
                        <div class="fragment current-only" data-code-focus="218-228"><!-- metatable __index  --></div>
                        <div class="fragment current-only" data-code-focus="230-247"><!-- metamethods  --></div>
                        <div class="fragment current-only" data-code-focus="249-256"><!-- classes  --></div>
                        <div class="fragment current-only" data-code-focus="258-271"><!-- classes  --></div>
                        <div class="fragment current-only" data-code-focus="291-301"><!-- inheritance  --></div>
                        <div class="fragment current-only" data-code-focus="315-321"><!-- inheritance  --></div>
                        <div class="fragment current-only" data-code-focus="323-342"><!-- modules --></div>
                        <div class="fragment current-only" data-code-focus="344-353"><!-- modules --></div>
                        <div class="fragment current-only" data-code-focus="355-359"><!-- modules --></div>
                        <div class="fragment current-only" data-code-focus="361-377"><!-- modules --></div>
                        <div class="fragment current-only" data-code-focus="381-383"><!-- references --></div>
                    </section>
                </section>

                <section data-background="img/JavaScript.png">
                    <div class="background-caption" style="margin-top: 510px">
                        <h3>What are Lua's bad parts?</h3>
                    </div>
                </section>

                <section>
                    <h4>1-based indexing</h4>
                    <pre><code class="lua">names = { 'Alice', 'Bob', 'Charlie' }
print names[1]
-- prints 'Alice'

names[0] = 'Phil'
-- This is legal, but table.sort, #names, etc. will be confused</code></pre>
                </section>

                <section>
                    <p>Edsger Dijkstra, <a href="https://www.cs.utexas.edu/users/EWD/ewd08xx/EWD831.PDF">&ldquo;Why numbering should start at 0,&rdquo;</a> 1982</p>
                    <embed src="assets/EWD831.PDF#page=1&zoom=125" width="1000" height="500">
                </section>

                <section>
                    <blockquote>
                        So: the technical reason we started counting arrays at zero is that in the mid-1960â€™s, you could shave a few cycles off of a programâ€™s compilation time on an IBM 7094. The social reason is that we had to save every cycle we could, because if the job didnâ€™t finish fast it might not finish at all and you never know when youâ€™re getting bumped off the hardware because the President of IBM just called and #$@&amp;% your thesis, itâ€™s yacht-racing time.
                    </blockquote>
                    <p>&mdash;Mike Hoye, <a href="http://exple.tive.org/blarg/2013/10/22/citation-needed/">&ldquo;Citation Needed&rdquo;</a></p>
                </section>

                <section>
                    <h4>1-based indexing</h4>
                    <p>Who cares? Use an iterator:</p>
                    <pre><code class="lua">names = { 'Alice', 'Bob', 'Charlie' }
for i, v in ipairs(names)
    print v
end</code></pre>
                </section>

                <section>
                    <h4>Small standard library</h4>
                    <p>Some of the functionality I miss in Lua:</p>
                    <ul class="long-list">
                        <li>Filesystem</li>
                        <li>Regexes</li>
                        <li>Networking</li>
                        <li>JSON</li>
                        <li>string.startsWith</li>
                        <li>string.endsWith</li>
                        <li>string.trim</li>
                        <li>Case conversions</li>
                        <li>Class creation</li>
                        <li>math.round</li>
                        <li>Pretty-printing tables</li>
                        <li>table.clone</li>
                        <li>Deep equality</li>
                        <li>Extract a table's values&hellip;</li>
                        <li>&hellip;or keys</li>
                    </ul>
                </section>

                <section>
                    <p>Comparison: Python</p>
                    <img class="plain" src="img/python_dlls.png"/>
                    <img class="plain" src="img/python_lib.png"/>
                </section>

                <section>
                    <p>It's not all bad...</p>
                    <pre><code class="lua">-- Pattern matching from <a href=http://www.lua.org/pil/20.2.html">http://www.lua.org/pil/20.2.html</a>
-- Not as powerful as regexes, but still nice.
s = "Deadline is 30/05/1999, firm"
date = "%d%d/%d%d/%d%d%d%d"
print(string.sub(s, string.find(s, date)))
-- outputs "30/05/1999"

-- Search-and-replace: Replace all non-letters
print(string.gsub("hello, up-down!", "%A", "."))
-- outputs "hello..up.down. 4"</code></pre>

                    <pre class="fragment"><code class="lua">-- printf-style string formatting
val = 1
print(("%3i"):format(val))
-- outputs "  1"
<span class="fragment">-- Take THAT, JavaScript!</span></code></pre>
                </section>

                <section>
                    <h4>Incompatible implementations</h4>
                    <p>Lua 5.3 (and 5.2)</p>
                    <ul class="code-list">
                        <li class="fragment" data-fragment-index="1">Integers
                            <pre class="fragment fade-out" data-fragment-index="2"><code class="lua">i = 3           -- Integer
n = 2.0         -- Float
print(type(i))  -- "number"
print(type(n))  -- "number"
print(i/n)      -- "1.5"
print(i//n)     -- "1"</code></pre>
                        </li>
                        <li class="fragment" data-fragment-index="2">Bitwise operators</li>
                        <li class="fragment" data-fragment-index="3">UTF-8 support ("\u" string literals, "utf8" module)</li>
                        <li class="fragment" data-fragment-index="4">"goto" statement
                            <pre class="fragment fade-out" data-fragment-index="5"><code class="lua">for z=1,10 do
for y=1,10 do
for x=1,10 do
  if x^2 + y^2 == z^2 then
    print('found a Pythagorean triple:', x, y, z)
    print('now trying next z...')
    goto zcontinue
  end
end end ::zcontinue:: end</code></pre>
                        </li>
                        <li class="fragment" data-fragment-index="5">Finalizers</li>
                    </ul>
                </section>

                <section>
                    <h4>Incompatible Implementations</h4>
                    <p>LuaJIT</p>
                    <ul class="code-list">
                        <li class="fragment">Fast</li>
                        <li class="fragment">Really fast</li>
                        <li class="fragment">You just won't believe how vastly, hugely, mind-bogglingly fast it is.</li>
                        <li class="fragment">I mean, you may think that V8 is fast, but that's just peanuts to LuaJIT. <span class="fragment">(with apologies to Douglas Adams)</span></li>
                    </ul>
                </section>

                <section>
                    <h2>What tools should I know about?</h2>
                </section>

                <section>
                    <h3>Resources</h3>
                    <ul>
                        <li>
                            FAQs<br>
                            <a href="http://lua-users.org/wiki/">lua-users wiki</a><br>
                            <a href="http://www.luafaq.org/gotchas.html">Lua Gotchas</a>
                        </li>
                        <li class="fragment">
                            Online REPL (Read-Evaluate-Print Loop)<br>
                            <a href="https://repl.it/">repl.it</a>
                        </li>
                        <li class="fragment">
                            Package manager<br>
                            <a href="https://luarocks.org/">LuaRocks</a>
                        </li>
                        <li class="fragment">
                            IDE<br>
                            <a href="https://studio.zerobrane.com/">ZeroBrane Studio</a>
                        </li>
                        <li class="fragment">
                            Alternative languages<br>
                            <a href="http://moonscript.org/">MoonScript</a>
                        </li>
                    </ul>
                </section>

                <section>
                    <h3>Image credits</h3>
                    <ul class="credit">
                        <li><a href="https://ligadonafacul.com.br/saiba-mais-sobre-os-cursos-online-e-gratuitos-da-puc-rio/">PUC-Rio campus building - Ligado Na Facul</a></li>
                        <li><a href="https://commons.wikimedia.org/w/index.php?curid=11901243">Moon - by Gregory H. Revera, own work</a></li>
                        <li><a href="https://securelist.com/blog/incidents/34344/the-flame-questions-and-answers-51/">Flame virus screenshot - Kaspersky Lab</a></li>
                        <li><a href="http://games-macdownload.com/world-of-warcraft-mac-download/wow-subscriber-counts-drops-considerably/">World of Warcraft screenshot - Games-pc-download.com</a></li>
                        <li><a href="https://www.flickr.com/photos/mrlerone/508091819/in/photolist-LU6ZM-CTvd9-8esu9R-6cyvEr-5FnsNq-bopgYj-cX8f9y-3w2hL-iLxovd-4V92Su-6ZpvD-ihux5T-64euRJ-6g4eby-4nSYYn-eh7TYt-f86ro1-i9NnnB-8HmCDA-wmwLoT-r55uzA-gmD3Ge-5mfH6-iyQpBa-75m8Sb-3ERSv4-bRnUkx-fJVySg-cizMFU-5Qu5AP-5rDomB-oWRqrL-wBwq6-6KZcb7-6KZcaE-9Vwuzc-8Qm8QP-csysU5-9VwtJK-nFvkp7-9sJtdA-dFYHwE-b1kU4Z-bkqPDP-gtaKNf-epZ7tB-6KV4B8-62F2mE-fEgaqw-9pQ6mz">Stopwatch - by Troy Bradbury, Flickr</a></li>
                    </ul>
                    <p class="credit">All logos and trademarks are copyright of their respective holders.</p>
                </section>

                <section>
                    <h2>End</h2>
                </section>

            </div>
        </div>
        <script src="bower_components/reveal.js/lib/js/head.min.js"></script>
        <script src="bower_components/reveal.js/js/reveal.js"></script>
        <script>
            Reveal.initialize({
                controls: true,
                progress: true,
                history: true,
                transition: 'slide',
                transitionSpeed: 'fast',
                dependencies: [
                    { src: 'bower_components/reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    //{ src: 'bower_components/reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: 'bower_components/reveal.js/plugin/markdown/marked.js' },
                    { src: 'bower_components/reveal.js/plugin/markdown/markdown.js' },
                    { src: 'bower_components/reveal.js/plugin/zoom-js/zoom.js', async: true },
                    { src: 'bower_components/highlightjs/highlight.pack.js' },
                    { src: 'js/reveal-code-focus.js', callback: function() { RevealCodeFocus(true); } }
				]
            });
        </script>
    </body>
</html>
